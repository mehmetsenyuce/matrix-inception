package Test;

import com.github.javafaker.Faker;
import io.github.bonigarcia.wdm.WebDriverManager;
import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

import java.util.concurrent.TimeUnit;

public class MGMBaktygulResortsFuncionality {
    public static void main(String[] args) throws InterruptedException {


        WebDriverManager.chromedriver().setup();
        WebDriver driver = new ChromeDriver();
        driver.manage().window().maximize();
        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);

        driver.get("https://www.mgmresorts.com");
        //User should able to locate and click on Resorts
        //User  should be able to choose of one of the four country/city options

        driver.findElement(By.id("nav-resorts-1")).click();
        String url = driver.getCurrentUrl();
        if (url.contains("hotels")) {
            System.out.println("Url verification Passed");
        } else {
            System.out.println("Url verification didn't pass");
        }
        Thread.sleep(3000);

        WebElement lasVegas = driver.findElement(By.linkText("Las Vegas"));
        lasVegas.click();
        if (driver.getCurrentUrl().contains("Vegas")) {
            System.out.println("Url verification of Las Vegas passed");
        } else {
            System.out.println("URL Verification of Las Vegas Didn't passed");
        }
        Thread.sleep(3000);


        WebElement unitedStates = driver.findElement(By.linkText("United States"));
        unitedStates.click();
        if (driver.getCurrentUrl().contains("United")) {
            System.out.println("Verification of United States Passed");
        } else {
            System.out.println("URL verification of United States didn't pass");
        }
        WebElement chinaButton = driver.findElement(By.linkText("China"));
        chinaButton.click();
        if (driver.getCurrentUrl().contains("China")) {
            System.out.println("URL verification of China passed");
        } else {
            System.out.println("URL verification of China didn't pass");
        }
        Thread.sleep(3000);
        WebElement japanButton = driver.findElement(By.linkText("Japan"));
        japanButton.click();
        if (driver.getCurrentUrl().contains("Japan")) {
            System.out.println("URL verification of Japan passed");
        } else {
            System.out.println("URL verification of japan didn't pass");
        }



        //User should be able to click on listed resort
        //User should be able to choose the check in/checkout date


        WebElement bookNow=driver.findElement(By.xpath("//a[@href='/en/booking/room-booking.html']"));
        bookNow.click();


        WebElement resortSelected=driver.findElement(By.xpath(".//*[contains(@class,'resort-item-container')]"));
        resortSelected.click();
        WebElement checkIn=driver.findElement(By.xpath("//a[@id='c-08-07-2019']"));
        checkIn.click();
        if(driver.getCurrentUrl().contains("2019-07-08")) {
            System.out.println("Verification of check in date passed");
        }
        else  {
            System.out.println("Verification of check in date didn't pass");
        }
       WebElement checkOut=driver.findElement(By.xpath("//a[@id='c-09-07-2019']"));
       checkOut.click();
       if(driver.getCurrentUrl().contains("2019-07-09")) {
           System.out.println("Verification of check out date is passed");
       }
       else {
           System.out.println("Verification of check out date didn't pass");
       }


        //User should be able to choose one of the listed hotels
        //User should be able to reserve a room,entering all information
        driver.findElement(By.xpath("//div[@id='2ae59b7d-ae21-470d-a36f-2649ac87f7d3']//div[2]//div[2]//button")).click();
        Faker faker=new Faker();
       WebElement inputFirstName=driver.findElement(By.id("guest-info-cont-first-name"));
       inputFirstName.sendKeys(faker.name().name());
       WebElement inputLastName=driver.findElement(By.id("guest-info-cont-last-name"));
       inputLastName.sendKeys(faker.name().lastName());
        WebElement inputPhoneNumber=driver.findElement(By.id("guest-info-cont-phone"));
        inputPhoneNumber.sendKeys(faker.phoneNumber().cellPhone());
        WebElement inputEmail=driver.findElement(By.id("guest-info-login-email-address"));
        inputEmail.sendKeys(faker.internet().emailAddress());
        WebElement inputNameOnCard=driver.findElement(By.id("guest-info-cont-last-name"));
        inputNameOnCard.sendKeys(faker.name().fullName());
        WebElement inputCardNumber=driver.findElement(By.id("bill-card-num"));
        inputCardNumber.sendKeys(faker.finance().creditCard());
        WebElement inputExpMonth=driver.findElement(By.id("bill-card-exp-month"));
        inputEmail.sendKeys("08");
        WebElement inputExpYear=driver.findElement(By.id("bill-card-exp-year"));
        inputExpYear.sendKeys("2020");
        WebElement inputCvv=driver.findElement(By.id("bill-card-cvv"));
        inputCvv.sendKeys("696");
        WebElement inputAddress=driver.findElement(By.id("bill-address1"));
        inputAddress.sendKeys(faker.address().streetAddress());
        WebElement inputCity=driver.findElement(By.id("bill-city"));
        inputCity.sendKeys(faker.address().cityName());
        WebElement inputState=driver.findElement(By.id("bill-us-state"));
        inputState.sendKeys(faker.address().state());
        WebElement inputZipCode=driver.findElement(By.id("bill-zip"));
        inputZipCode.sendKeys(faker.address().zipCode());
        WebElement TermAndConditions=driver.findElement(By.id("terms-label"));
        TermAndConditions.click();
        WebElement confirm=driver.findElement(By.id("review-final"));
        confirm.click();

    }
}
